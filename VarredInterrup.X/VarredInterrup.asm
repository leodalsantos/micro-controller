    LIST P=18F4520
    #include<P18F4520.INC>
    
    ;Configuration Bits
    CONFIG	OSC=INTIO67, PWRT=ON, WDT=OFF, MCLRE=OFF, DEBUG=OFF
    
REG0	EQU	0x00
REG1	EQU	0x01
REG2	EQU	0x02
REG3	EQU	0x03
	

    org 0x0000
    GOTO INICIO
    
    org 0x0008
    BTFSC INTCON,TMR0IE
    BTFSS INTCON,TMR0IF
    RETFIE FAST
    BRA INTERRUPT
    
    org 0x0100
INTERRUPT:
    BTFSC LATA,2
    BRA CASO1
    BTFSC LATA,3
    BRA CASO2
    BTFSC LATA,4
    BRA CASO3
    BTFSC LATA,5
    BRA CASO4
    BSF LATA,2
    RETFIE FAST
CASO1:
    BCF LATA,2
    MOVFF REG1,LATD
    BSF LATA,3
    RETFIE FAST
CASO2:
    BCF LATA,3
    MOVFF REG2,LATD
    BSF LATA,4
    RETFIE FAST
CASO3:
    BCF LATA,4
    MOVFF REG3,LATD
    BSF LATA,5
    RETFIE FAST
CASO4:
    BCF LATA,5
    MOVFF REG0,LATD
    BSF LATA,2
    RETFIE FAST
    
    
    org 0x0300
INICIO:
    CLRF TRISA
    CLRF TRISD
    
    MOVLW 0x78
    MOVWF OSCCON
    MOVLW 0x06
    MOVWF REG0
    MOVLW 0x5B
    MOVWF REG1
    MOVLW 0x4F
    MOVWF REG2
    MOVLW 0x66
    MOVWF REG3
    
    BSF INTCON,GIE
    BSF INTCON,TMR0IE
    BCF INTCON,TMR0IF
    MOVLW 0xD6
    MOVWF T0CON
    ;BSF T0CON,TMR0ON
    ;BSF T0CON,T08BIT
    ;BCF T0CON,T0CS
    ;BCF T0CON,T0SE
    ;BSF T0CON,PSA
    
    
REPETE:
    BRA REPETE
    END
    
    
    
    
    
    
    
    
    


